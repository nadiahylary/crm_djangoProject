{% extends 'base.html' %}
{% load static %}

{% block title %}{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static "base.css" %}">
{% endblock %}

{% block body %}
    <div class="col-md-6 offset-md-3">
        <form action="" method="post">
            <div class="form-group col-md-2">
                <select id="title" class="form-control" name="title">
                    <option selected>Title</option>
                    <option value="Mrs">Mrs/Ms</option>
                    <option value="Mr">Mr</option>
                    <option value="Dr">Dr</option>
                    <option value="Prof.">Prof</option>
                </select>
            </div>
            <div class="form-group flex">
                <input type="text" name="firstName" class="form-control" id="firstName" placeholder="First Name" style="margin-right: 10px;">
                <input type="text" name="lastName" class="form-control" id="lastName" placeholder="Last Name">
            </div>

            <div class="form-group flex">
                <input type="email" class="form-control" name="email" id="inputEmail4" placeholder="Email" style="margin-right: 10px;">
                <input type="tel" class="form-control" id="phone" name="phone" placeholder="Phone">
            </div>

            <div class="form-group flex">
                <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" style="margin-right: 10px;">
                <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
            </div>
            <div class="form-row form-group ">
                <div class="form-group">
                    <input type="text" class="form-control" id="inputCity" placeholder="City">
                </div>
                <div class="form-group">
                    <select id="inputState" class="form-control">
                        <option selected >State/Region</option>
                        <option>...</option>
                    </select>
                </div>
                <div class="form-group flex">
                    <div class="w-50" style="margin-right: 10px; height: 45px;">
                        <select id="inputCountry" class="form-control" style="margin-right: 10px; height: 45px;">
                            <option selected>Country</option>
                            <option>...</option>
                        </select>
                    </div>
                    <div class="w-50" >
                        <input type="text" class="form-control" id="inputZip" placeholder="Zip Code">
                    </div>
                 </div>
            </div>
            <div class="form-group text-center">
                <button type="submit" class="btn btn-success w-50" id="addCustomer">Add Customer</button>
            </div>
        </form>
    </div>
    {% if customers %}
    <main style="margin: 15px;">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Dashboard</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
          <div class="btn-group me-2">
            <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
          </div>
          <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
            <span data-feather="calendar"></span>
            This week
          </button>
        </div>
      </div>

      <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>

      <h2>All Customers</h2>
      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>

            <tr>
{#                <th scope="col">#</th>#}
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Phone</th>
                <th scope="col">Description</th>
                <th scope="col">Complete Address</th>
                <th>Actions</th>
            </tr>
          </thead>
          <tbody>
          {% for customer in customers %}
            <tr>
{#                <td>{{ customer.id }}</td>#}
                <td>{{ customer.first_name }} {{ customer.last_name }}</td>
                <td>{{ customer.email }}</td>
                <td>{{ customer.phone }}</td>
                <td>{{ customer.description }}</td>
                <td>{{ customer.address }} {{ customer.city }} {{ customer.country }}</td>
                <td><span class="badge rounded-pill bg-warning text-dark"><a href="{% url 'edit' customer.id %}">Edit</a></span><span class="badge rounded-pill bg-danger"><a href="{% url 'delete' customer.id %}">Delete</a></span></td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </main>
    {% endif %}
{% endblock %}